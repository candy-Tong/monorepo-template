version: v2.0
name: lint

on:
  push:
    branches: ["*"]
  mr:
    target-branches: ["*"]

steps:
- name: 拉取代码
  checkout: self
- name: 安装依赖
  run: |
    npm i -g pnpm
    pnpm i
- name: 执行lint
  run: |
    pnpm run lint:fix
    pnpm run stylelint:fix

notices:
- type: wework-message
  if: FAILURE
